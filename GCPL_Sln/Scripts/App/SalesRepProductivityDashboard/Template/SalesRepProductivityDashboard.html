<div class="row">
    <div class="col-lg-12 col-md-12">
        <h2 class="page-title">Sales Rep Productivity Dashboard</h2>
    </div>
</div>
<div class="selection-filter-container">
    <h5 class="section-header-title">Selection Filter</h5>
    <div class="selection-filter-sub-container">
        <div class="row">
            <div class="col-lg-3 col-md-3">
                <div class="form-group">
                    <label>Opportunity Type</label>
                    <select id="txtLeadType" class="form-control" ng-model="$ctrl.SalesRepProdSearch.LeadTypeID" ng-change="$ctrl.Division();" name="LeadType" required>
                        <option value="">Select</option>
                        <option ng-repeat="item in $ctrl.LeadTypeDropDown" value={{item.ID}}>{{item.LeadTypeDesc}}</option>
                    </select>
                </div>
            </div>
            <div class="col-lg-3 col-md-3">
                <div class="form-group">
                    <label>Division</label>
                    <select id="txtLeadDivision" name="Status" class="form-control" ng-model="$ctrl.SalesRepProdSearch.DivisionID" ng-change="$ctrl.Product();">
                        <option value="">Select</option>
                        <option ng-repeat="item in $ctrl.DivisionDropDown" value={{item.DivisionID}}>{{item.Division}}</option>
                    </select>
                </div>
            </div>
            <div class="col-lg-3 col-md-3">
                <div class="form-group">
                    <label>Family</label>
                    <select id="txtProduct" name="Product" class="form-control col-lg-4" ng-model="$ctrl.SalesRepProdSearch.ProductID" ng-change="$ctrl.Model();">
                        <option value="">Select</option>
                        <option ng-repeat="item in $ctrl.ProductDropDown" value={{item.ProductID}}>{{item.Product}}</option>
                    </select>
                </div>
            </div>
            <div class="col-lg-3 col-md-3">
                <div class="form-group">
                    <label>Model</label>
                    <select id="txtModel" name="Model" class="form-control col-lg-4" ng-model="$ctrl.SalesRepProdSearch.ModelID">
                        <option value="">Select</option>
                        <option ng-repeat="item in $ctrl.ModelDropDown" value={{item.ModelID}}>{{item.ModelNo}}</option>

                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-3 col-md-3">
                <div class="form-group">
                    <label>Zone</label>
                    <select id="txtZone" name="Zone" class="form-control col-lg-4" ng-model="$ctrl.SalesRepProdSearch.ZoneID" ng-change="$ctrl.ZoneWiseUser();">
                        <option value="">Select</option>
                        <option ng-repeat="item in $ctrl.ZoneDD" value={{item.ID}}>{{item.ZoneName}}</option>

                    </select>
                </div>
            </div>
            <div class="col-lg-3 col-md-3">
                <div class="form-group">
                    <label>Emp Name</label>
                    <select id="ddlUserName" name="UserName" class="form-control col-lg-4" ng-model="$ctrl.SalesRepProdSearch.UserID">
                        <option value="">Select</option>
                        <option ng-repeat="item in $ctrl.UserDropDown" value={{item.UserID}}>{{item.FirstName}}</option>
                    </select>
                </div>
            </div>
            <div class="col-lg-3 col-md-3">
                <div class="form-group">
                    <label>Year</label>
                    <select class="form-control col-lg-4" id="txtYear" ng-model="$ctrl.SalesRepProdSearch.Year">
                        <option value="">Select</option>
                        <option ng-repeat="item in $ctrl.YearDropdown" value="{{item.YearID}}">{{item.Year}}</option>
                    </select>
                </div>
            </div>
            <div class="col-lg-3 col-md-3 selection-filter-btn-col">
                <button id="btnSearch" type="button" ng-click="$ctrl.SearchSalesRepProductivityList();" class="btn search-btn">Search</button>
                <button id="btnClear" type="button" ng-click="$ctrl.Clear();" class="btn clear-btn">Clear</button>
            </div>
        </div>
    </div>
</div>
<div class="table-container">
    <h5 class="section-header-title">Sales Rep Productivity List</h5>
    <div class="table-sub-container">
        <div id="div-1" class="body">
            <div class="row">
                <div class="col-lg-6 col-md-6">
                    <label class="table-label">Count - {{$ctrl.SalesRepProductivityList.length}} </label>
                </div>
                <div class="col-lg-6 col-md-6 text-right">
                    <label class="table-label">Records/Page - </label>
                    <select name="Status" id="DDLStatus" ng-change="$ctrl.Refresh()" ng-model="$ctrl.NoOfRds" class="no-record-dropdown">
                        <option value=10>10</option>
                        <option value=30>30</option>
                        <option value=50>50</option>
                    </select>
                </div>
            </div>
            <br />
            <div class="validation-table table-responsive" style="overflow:auto;">
                <table id="dataTable" class="table table-bordered customer-list-table">
                    <thead class="customer-list-heading">
                        <tr>
                            <th>Year</th>
                            <th>Month</th>
                            <th>Model</th>
                            <th>Division</th>
                            <th>Product</th>
                            <th>OpportunityType</th>
                            <th>SalesRep</th>
                            <th>Zone</th>
                            <th>Target</th>
                            <th>Achived/Won</th>
                            <th>Lost</th>
                            <th>No Deals</th>
                            <th>Open</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in $ctrl.shownItems">

                            <td>{{item.Year}}</td>
                            <td>{{item.Month}}</td>
                            <td>{{item.Model}}</td>
                            <td>{{item.Division}}</td>
                            <td>{{item.Product}}</td>
                            <td>{{item.LeadType}}</td>
                            <td>{{item.SalesRep}}</td>
                            <td>{{item.Zone}}</td>
                            <td>{{item.Target}}</td>
                            <td>{{item.Won}}</td>
                            <td>{{item.Lost}}</td>
                            <td>{{item.NoDeal}}</td>
                            <td>{{item.Open}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div id="nullDataDiv" style="display: none;">
                <br />
                <div class="mdl-grid jumbotron">
                    <h3 class="page-header" style="color: brown; margin-left: 33%">
                        <i class="fa fa-exclamation-triangle">
                        </i>&nbsp; No Data available
                    </h3>
                </div>
            </div>
        </div>
        <div class="row nex-prev-container">
            <div class="col-lg-12 col-md-12 text-right">
                <button ng-show="$ctrl.ShowBack" ng-click="$ctrl.back()" class="btn btn-default">Prev</button>
                <button ng-show="$ctrl.ShowNext" ng-click="$ctrl.next()" class="btn btn-default">Next</button>
            </div>
        </div>
    </div>
    <!-- Search Loader Started -->
    <div class="search-loader" id="search-btn-loader">
        <div class="search-loader-container">
            <img class="search-gif-loader" src="../../../../../Content/assets/img/loader-icon.gif" />
        </div>
    </div>
    <!-- Search Loader Ended -->
</div>

<div class="modal fade" id="myAlert" tabindex="-2" role="dialog" aria-labelledby="myModalLabel2" aria-hidden="true">
    <div class="modal-dialog">

        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.Close();" aria-hidden="true">&times;</button>
                <!--<button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.ErrorClose();"  aria-hidden="true">&times;</button>-->
                <h4 class="modal-title" id="myModalLabel2">Alert</h4>

            </div>
            <div class="modal-body">
                <p>{{$ctrl.alert}}</p>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="$ctrl.Close();" id="close" data-toggle="modal" data-dismiss="modal" aria-hidden="true">Close</button>
                <!--<button type="button" class="btn btn-default" ng-click="$ctrl.Close();" id="close" data-dismiss="modal">Close</button>-->
                <button type="button" class="btn btn-default" ng-click="$ctrl.ErrorClose();" data-dismiss="modal" id="errorclose">Close</button>
            </div>
        </div>
    </div>
</div>